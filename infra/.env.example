# ============================================================================
# sports-data-admin Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values.
# All services (API, scraper, web) use this single .env file.
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration (Docker Postgres)
# ----------------------------------------------------------------------------
POSTGRES_DB=sports
POSTGRES_USER=sports
POSTGRES_PASSWORD=changeme_in_production
POSTGRES_PORT=5432

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
REDIS_PASSWORD=changeme_in_production

# ----------------------------------------------------------------------------
# Environment
# ----------------------------------------------------------------------------
# Use "development" for local development, "production" for production
ENVIRONMENT=development

# Run Alembic migrations on API startup (dev-only; default false)
RUN_MIGRATIONS=false

# Required to run destructive restore/reset scripts
CONFIRM_DESTRUCTIVE=false

# ----------------------------------------------------------------------------
# API Authentication
# ----------------------------------------------------------------------------
# API key for authenticating requests to the API (required for production/staging)
# Generate with: openssl rand -hex 32
API_KEY=

# ----------------------------------------------------------------------------
# External API Keys
# ----------------------------------------------------------------------------
# OpenAI (optional - for game flow narrative generation)
OPENAI_API_KEY=
OPENAI_MODEL_CLASSIFICATION=gpt-4o-mini
OPENAI_MODEL_SUMMARY=gpt-4o

# The Odds API (optional - for fetching betting odds)
ODDS_API_KEY=

# CBB Stats API (required for NCAAB team mapping in Alembic migrations)
CBB_STATS_API_KEY=

# X/Twitter authentication for social scraping
# These tokens seed the persistent browser profile on first boot.
# After seeding, Playwright auto-refreshes tokens â€” you only need to update
# these if the profile volume is deleted or tokens expire.
# Get values from browser DevTools > Application > Cookies > x.com
X_AUTH_TOKEN=
X_CT0=

# ----------------------------------------------------------------------------
# Frontend Configuration
# ----------------------------------------------------------------------------
NEXT_PUBLIC_SPORTS_API_URL=http://localhost:8000
NEXT_PUBLIC_THEORY_ENGINE_URL=http://localhost:8000
# For server-side fetches inside the web container (Docker only)
SPORTS_API_INTERNAL_URL=http://api:8000

# ----------------------------------------------------------------------------
# Production Settings (required for production/staging)
# ----------------------------------------------------------------------------
# CORS origins (comma-separated)
# ALLOWED_CORS_ORIGINS=https://admin.scrolldownsports.com

# API_KEY must be set (min 32 characters)
# Generate with: openssl rand -hex 32

# ============================================================================
# Usage:
#   Development:  docker compose --profile dev up -d
#   Production:   docker compose --profile prod up -d
#   
#   Manual backup:  docker exec sports-postgres /scripts/backup.sh
#   Restore:        CONFIRM_DESTRUCTIVE=true docker exec sports-postgres /scripts/restore.sh /backups/sports_YYYYMMDD.sql.gz
# ============================================================================
